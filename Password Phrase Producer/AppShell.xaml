<?xml version="1.0" encoding="UTF-8" ?>
<Shell
    x:Class="Password_Phrase_Producer.AppShell"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:local="clr-namespace:Password_Phrase_Producer"
    xmlns:views="clr-namespace:Password_Phrase_Producer.Views"
    Title="Password Phrase Producer"
    FlyoutBehavior="Flyout"
    FlyoutWidth="260"
    FlyoutBackgroundColor="Transparent"
    Shell.NavBarIsVisible="False"
    FlyoutIcon="{x:Null}">

    <Shell.FlyoutBackdrop>
        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#0D0D12" Offset="0" />
            <GradientStop Color="#14141E" Offset="1" />
        </LinearGradientBrush>
    </Shell.FlyoutBackdrop>

    <Shell.FlyoutBackground>
        <LinearGradientBrush StartPoint="0,0" EndPoint="0.3,1">
            <GradientStop Color="#1A1A24" Offset="0" />
            <GradientStop Color="#12121A" Offset="1" />
        </LinearGradientBrush>
    </Shell.FlyoutBackground>

    <Shell.FlyoutHeader>
        <VerticalStackLayout Padding="16,28,16,16" Spacing="1">
            <Label 
                Text="Password Phrase" 
                FontSize="15" 
                FontAttributes="Bold" 
                TextColor="White" />
            <Label 
                Text="Producer" 
                FontSize="15" 
                FontAttributes="Bold" 
                TextColor="#7B8CFF" />
        </VerticalStackLayout>
    </Shell.FlyoutHeader>

    <Shell.ItemTemplate>
        <DataTemplate>
            <Grid 
                Padding="16,10" 
                ColumnDefinitions="*,Auto" 
                HeightRequest="40">
                <Label 
                    Text="{Binding Title}" 
                    FontSize="14" 
                    TextColor="#E8EBFF" 
                    VerticalOptions="Center" />
                <Image 
                    Grid.Column="1" 
                    Source="chevronright.png" 
                    WidthRequest="12" 
                    HeightRequest="12" 
                    VerticalOptions="Center" 
                    Margin="0,0,6,0" />
            </Grid>
        </DataTemplate>
    </Shell.ItemTemplate>

    <Shell.MenuItemTemplate>
        <DataTemplate>
            <Grid 
                Padding="16,10" 
                HeightRequest="40">
                <Label 
                    Text="{Binding Text}" 
                    FontSize="14" 
                    TextColor="#E8EBFF" 
                    VerticalOptions="Center" />
            </Grid>
        </DataTemplate>
    </Shell.MenuItemTemplate>

    <Shell.FlyoutFooter>
        <VerticalStackLayout Padding="16,10,16,20" Spacing="8">
            <BoxView HeightRequest="1" Color="#2A2A3A" Margin="0,0,0,4" />
            
            <!-- Einstellungen Button im Footer -->
            <Border 
                BackgroundColor="#1F2338" 
                StrokeThickness="0"
                Padding="12,10"
                Margin="0,4,0,0">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="10" />
                </Border.StrokeShape>
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnSettingsTapped" />
                </Border.GestureRecognizers>
                <Grid ColumnDefinitions="*,Auto">
                    <Label 
                        Text="Einstellungen" 
                        FontSize="14" 
                        TextColor="#E8EBFF" 
                        VerticalOptions="Center" />
                    <Image 
                        Grid.Column="1" 
                        Source="chevronright.png" 
                        WidthRequest="12" 
                        HeightRequest="12" 
                        VerticalOptions="Center" />
                </Grid>
            </Border>
            
            <Label 
                Text="Version 1.0" 
                FontSize="10" 
                TextColor="#5A6080" 
                HorizontalOptions="Center"
                Margin="0,4,0,0" />
        </VerticalStackLayout>
    </Shell.FlyoutFooter>

    <!-- Startseite (versteckt im Flyout, aber als Route verfügbar) -->
    <FlyoutItem Title="Startseite"
                Route="home"
                FlyoutIcon="H"
                FlyoutItemIsVisible="False">
        <ShellContent
            Title="Startseite"
            ContentTemplate="{DataTemplate local:StartPage}" />
    </FlyoutItem>

    <!-- Tresor -->
    <FlyoutItem Title="Tresor"
                Route="vault"
                FlyoutIcon="T"
                FlyoutDisplayOptions="AsSingleItem">
        <ShellContent
            Title="Tresor"
            ContentTemplate="{DataTemplate views:VaultPage}" />
    </FlyoutItem>

    <!-- Datentresor -->
    <FlyoutItem Title="Datentresor"
                Route="data-vault"
                FlyoutIcon="D"
                FlyoutDisplayOptions="AsSingleItem">
        <ShellContent
            Title="Datentresor"
            ContentTemplate="{DataTemplate views:DataVaultPage}" />
    </FlyoutItem>

    <!-- Passwort erstellen -->
    <FlyoutItem Title="Passwort erstellen"
                Route="generate"
                FlyoutIcon="G"
                FlyoutDisplayOptions="AsSingleItem">
        <ShellContent
            Title="Passwort erstellen"
            ContentTemplate="{DataTemplate views:GenerationMethodsPage}" />
    </FlyoutItem>

    <!-- Authenticator -->
    <FlyoutItem Title="Authenticator"
                Route="authenticator"
                FlyoutIcon="A"
                FlyoutDisplayOptions="AsSingleItem">
        <ShellContent
            Title="Authenticator"
            ContentTemplate="{DataTemplate views:AuthenticatorPage}" />
    </FlyoutItem>

    <!-- Einstellungen (versteckt im Flyout, Navigation über Footer) -->
    <FlyoutItem Title="Einstellungen"
                Route="settings"
                FlyoutIcon="S"
                FlyoutItemIsVisible="False">
        <ShellContent
            Title="Einstellungen"
            ContentTemplate="{DataTemplate views:SettingsPage}" />
    </FlyoutItem>


</Shell>
