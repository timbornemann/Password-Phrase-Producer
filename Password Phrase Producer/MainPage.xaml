<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Password_Phrase_Producer.MainPage"
             BackgroundColor="#1E1E1E">

    <Grid RowDefinitions="Auto,*" Padding="20" RowSpacing="20">
        <Button Text="Menu"
                Style="{StaticResource PrimaryActionButtonStyle}"
                Command="{Binding ShowMenuCommand}"/>

        <VerticalStackLayout Grid.Row="1" Spacing="20">
            <Label Text="Wähle den Modus aus:"
                   FontSize="24"
                   HorizontalOptions="Center"
                   TextColor="White"
                   IsVisible="{Binding IsMenuVisible}"/>

            <CollectionView x:Name="ModeCollection"
                            ItemsSource="{Binding ModeOptions}"
                            SelectionMode="Single"
                            IsVisible="{Binding IsMenuVisible}"
                            SelectedItem="{Binding SelectedMode}"
                            SelectionChangedCommand="{Binding SelectModeCommand}"
                            SelectionChangedCommandParameter="{Binding Source={x:Reference ModeCollection}, Path=SelectedItem}">
                <CollectionView.ItemsLayout>
                    <GridItemsLayout Orientation="Vertical" Span="1" />
                </CollectionView.ItemsLayout>
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame Padding="15" Margin="0,0,0,15" HasShadow="False" BackgroundColor="#2A2A2A" CornerRadius="15">
                            <Grid ColumnDefinitions="Auto,*" RowDefinitions="Auto,Auto" ColumnSpacing="12">
                                <Label Text="{Binding Icon}" FontSize="24" VerticalOptions="Center" IsVisible="{Binding Icon}"/>
                                <Label Text="{Binding Title}" Grid.Column="1" FontSize="20" FontAttributes="Bold"/>
                                <Label Text="{Binding Description}" Grid.ColumnSpan="2" Grid.Row="1" FontSize="14" Opacity="0.8"/>
                            </Grid>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <ContentPresenter Content="{Binding CurrentContent}"
                              IsVisible="{Binding IsContentVisible}"
                              HorizontalOptions="FillAndExpand"
                              VerticalOptions="FillAndExpand"/>
        </VerticalStackLayout>
    </Grid>
</ContentPage>