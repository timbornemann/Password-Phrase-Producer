<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:Password_Phrase_Producer"
             x:Class="Password_Phrase_Producer.StartPage"
             Padding="0"
             Shell.NavBarIsVisible="False">
    <ContentPage.Background>
        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#121212" Offset="0" />
            <GradientStop Color="#1C1C24" Offset="0.5" />
            <GradientStop Color="#101018" Offset="1" />
        </LinearGradientBrush>
    </ContentPage.Background>

    <ScrollView>
        <VerticalStackLayout Spacing="28"
                             Padding="24,48,24,40">
            <Grid ColumnDefinitions="*,Auto"
                  RowDefinitions="Auto"
                  Padding="0,0,0,12">
                <VerticalStackLayout Spacing="2"
                                      VerticalOptions="Center">
                    <Label Text="Modi auswählen"
                           FontSize="26"
                           FontAttributes="Bold"
                           TextColor="White"/>
                    <Label Text="Deine Modi im Überblick"
                           FontSize="14"
                           TextColor="#9EA3C4"/>
                </VerticalStackLayout>
                <Border Grid.Column="1"
                        WidthRequest="52"
                        HeightRequest="52"
                        BackgroundColor="#1F2336"
                        StrokeThickness="0"
                        HorizontalOptions="End"
                        VerticalOptions="Center">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="18" />
                    </Border.StrokeShape>
                    <Border.Shadow>
                        <Shadow Brush="#20000000" Radius="10" Offset="0,6" />
                    </Border.Shadow>
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnOpenMenuTapped" />
                    </Border.GestureRecognizers>
                    <Label Text="☰"
                           FontSize="20"
                           HorizontalOptions="Center"
                           VerticalOptions="Center"
                           TextColor="#CFD3FF"/>
                </Border>
            </Grid>

            <CollectionView ItemsSource="{Binding ModeOptions}"
                            SelectionMode="None"
                            Margin="0,8,0,0"
                            ItemSizingStrategy="MeasureAllItems">
                <CollectionView.ItemsLayout>
                    <GridItemsLayout Orientation="Vertical"
                                     VerticalItemSpacing="22"
                                     HorizontalItemSpacing="22">
                        <GridItemsLayout.Span>
                            <OnIdiom x:TypeArguments="x:Int32">
                                <OnIdiom.Phone>1</OnIdiom.Phone>
                                <OnIdiom.Tablet>2</OnIdiom.Tablet>
                                <OnIdiom.Desktop>3</OnIdiom.Desktop>
                            </OnIdiom>
                        </GridItemsLayout.Span>
                    </GridItemsLayout>
                </CollectionView.ItemsLayout>
                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="local:PasswordModeOption">
                        <Border Padding="0"
                                StrokeThickness="0"
                                Margin="0,0,0,6"
                                HeightRequest="168">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="30" />
                            </Border.StrokeShape>
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="#2D3252" Offset="0" />
                                    <GradientStop Color="#1B1E30" Offset="1" />
                                </LinearGradientBrush>
                            </Border.Background>
                            <Border.Shadow>
                                <Shadow Brush="#25000000" Radius="16" Offset="0,10" />
                            </Border.Shadow>
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Command="{Binding BindingContext.NavigateToModeCommand, Source={RelativeSource AncestorType={x:Type local:StartPage}}}"
                                                     CommandParameter="{Binding}"/>
                            </Border.GestureRecognizers>
                            <Grid Padding="26,24"
                                  ColumnDefinitions="Auto,*"
                                  RowDefinitions="Auto,Auto"
                                  ColumnSpacing="24"
                                  RowSpacing="14">
                                <Border Padding="16"
                                        StrokeThickness="0"
                                        WidthRequest="88"
                                        HeightRequest="88"
                                        VerticalOptions="Start">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="26" />
                                    </Border.StrokeShape>
                                    <Border.Background>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#3E4266" Offset="0" />
                                            <GradientStop Color="#272B43" Offset="1" />
                                        </LinearGradientBrush>
                                    </Border.Background>
                                    <Label Text="{Binding Icon}"
                                           FontSize="32"
                                           HorizontalOptions="Center"
                                           VerticalOptions="Center"
                                           HorizontalTextAlignment="Center"
                                           VerticalTextAlignment="Center"/>
                                </Border>
                                <Label Grid.Column="1"
                                       Text="{Binding Title}"
                                       FontSize="20"
                                       FontAttributes="Bold"
                                       TextColor="White"/>
                                <Grid Grid.Column="1"
                                      Grid.Row="1"
                                      ColumnDefinitions="*,Auto"
                                      VerticalOptions="Center">
                                    <Label Text="{Binding Description}"
                                           FontSize="15"
                                           TextColor="#C8CBDF"
                                           LineBreakMode="WordWrap"
                                           MaxLines="2"
                                           VerticalTextAlignment="Center"/>
                                    <Border Grid.Column="1"
                                            WidthRequest="44"
                                            HeightRequest="44"
                                            BackgroundColor="#2F3452"
                                            StrokeThickness="0"
                                            HorizontalOptions="End"
                                            VerticalOptions="Center">
                                        <Border.StrokeShape>
                                            <RoundRectangle CornerRadius="16" />
                                        </Border.StrokeShape>
                                        <Label Text="➜"
                                               FontSize="20"
                                               HorizontalOptions="Center"
                                               VerticalOptions="Center"
                                               TextColor="#D6DAFF"/>
                                    </Border>
                                </Grid>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
